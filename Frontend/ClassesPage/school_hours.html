<!DOCTYPE html>
<html lang="bg">
<link href="school_hours.css" rel="stylesheet">
<head>
    <meta charset="UTF-8"/>
    <title>Час</title>

</head>
<body>

<header>
    <div id="clock">00:00</div>
    <div id="class-time">
        <p id="runningTime">Loading...</p>
    </div>

</header>
<main>
    <div id="scheduleContainer">
        <div class="schedule-row">
            <div class="schedule-item">Class 1</div>
            <div class="schedule-item">Math</div>
            <div class="schedule-item">John Doe</div>
            <div class="schedule-item">Room 101</div>
        </div>
        <div class="schedule-row">
            <div class="schedule-item">Class 2</div>
            <div class="schedule-item">Science</div>
            <div class="schedule-item">Jane Doe</div>
            <div class="schedule-item">Room 202</div>
        </div>
        <div class="schedule-row">
            <div class="schedule-item">Class 1</div>
            <div class="schedule-item">Math</div>
            <div class="schedule-item">John Doe</div>
            <div class="schedule-item">Room 101</div>
        </div>
        <div class="schedule-row">
            <div class="schedule-item">Class 2</div>
            <div class="schedule-item">Science</div>
            <div class="schedule-item">Jane Doe</div>
            <div class="schedule-item">Room 202</div>
        </div>
</div>
</main>

<footer>
    <a href="https://gikn.eu/" target="_blank">
        ЧПГИКН „Академик Благовест Сендов”
    </a>
</footer>
<script defer async src="../Fetchers/TimesFetcher.js">
    while(true){
        if (document.getElementById('runningTime').innerHTML === `Неучебно време` && now.getHours() > 7 && document.getElementById("scheduleContainer").innerHTML === "") {
            window.location.href = '../HolidaysPage/holidays.html';
        }
    }
</script>
<script defer async src="../Fetchers/ScheduleByDateAndTimeFetcher.js"></script>
<script>
    function updateClock() {
        const now = new Date();
        let h = now.getHours();
        let m = now.getMinutes();
        if (h < 10) h = '0' + h;
        if (m < 10) m = '0' + m;
        document.getElementById('clock').textContent = `${h}:${m}`;
    }

    updateClock();
    setInterval(updateClock, 1000);
</script>
</body>
</html>